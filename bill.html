<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Mosallas</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=1">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<link rel="stylesheet" href="nft-style.css">
	<canvas id="whole" style="position: absolute;z-index:999"></canvas>
</head>
<body>

	<audio id="myAudio">
		<source src="win.mp3" type="audio/mpeg"></source>
	</audio>

	<audio id="myAudio1">
		<source src="count.mp3" type="audio/mpeg"></source>
	</audio>
	
	
		<script src="three.min.js"></script>
		<script src="ARnft.js"></script>
        	<script type='text/javascript' src='Tween.js'></script>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
		<script type='text/javascript' src='OrbitControls.js'></script>
		<script src="confetti.js"></script>
	
	
    <script>
      
      let ps5
      let box
      let flag = true
      let secondStart = true
      let finished = false 
      let confetiStart = false
      let canPlay = true;
      let nft_loaded 
      let lastNumber = 9
      let coffee
      
    

			ARnft.ARnft.init(800, 600, "archive/DataNFT/khalafi1", 'config3.json', false, true)
			.then((nft) => {
				nft_loaded = nft;
				
				document.addEventListener('onInitThreejsRendering', (ev) => {
					const renderer = ev.detail.renderer;
					const scene = ev.detail.scene;
					const camera = ev.detail.camera;
					
  					renderer.outputEncoding = THREE.sRGBEncoding;
                                        renderer.textureEncoding = THREE.sRGBEncoding
					renderer.physicallyCorrectLights = true;
				
					const light1  = new THREE.AmbientLight(0xFFFFFF, 0.3);
					    light1.name = 'ambient_light';
					    camera.add( light1 );

					let directionalLight = new THREE.DirectionalLight(0xFFFFFF, 0.8 * Math.PI);
					directionalLight.position.set(0.5, 0, 0.866);
					camera.add(directionalLight);

					nft.addSimpleModel('./phone.glb' , 170, 150 ,0,1000 , function(model){
							model.rotation.x = Math.PI/2
						
									});
					
					
					/*nft.addSimpleText( 170 , 280 ,50 , "قبض تلفن ثابت" ,"text" ,"rgba(228, 233, 237, 1)","rgba(142, 68, 173, 1)" , 14 , function(model){
						
					});*/
					
// 					nft.addSimpleModel('./mob.glb' , 70 , 100 ,0,24 , function(model){
// 							model.rotation.x= Math.PI/2;
// 						nft.setOnObjectClickListener('./mob.glb' , function() {
// 							window.open('https://pay.setareyek.ir/BillPayment/09124083575/12047656', '_blank').focus()
// 						});
						
// 									});

					
					
// 					nft.addSimpleModel('./lamptry.glb' , 300 , 100 ,0,30 , function(model){
// 							model.rotation.x = Math.PI/2
// 						model.rotation.y = -1*Math.PI/12
						
// 									});


					
				
/*nft.addModelWithLabel('./phone.glb' , 170, 150 ,30,(Math.PI / 2), 1000 ,"قبض تلفن" ,220, 170,true,function(){
					//alert("YMZ");	
				window.open("https://pay.setareyek.ir/BillPayment/09124083575/12047656", '_blank').focus();

				});*/
// 				addText(nft.root,170,200,30,"قبض تلفن")
				//nft.addModel('./lamp1.glb', 280, 100, 100, 0 , 30,"lamp",function () { 
					// alert("lamp");
					//});
				//nft.addPlane(500)
				
				})
				
			
				document.addEventListener('getMatrixGL_RH', (ev) => {
					try{
						
					}catch(e){
						alert(e)
					}
				});
            });

    </script>
</body>

</html>
